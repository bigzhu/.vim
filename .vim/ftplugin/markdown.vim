let g:nerdtree_tabs_open_on_console_startup=0
" if file not exist, create it
" 下面这个虽然可以在文件不存在时新建, 但是如果文件名有空格就会报错.
" :map gf :e <cfile><CR>

" map <buffer> <c-g> 0v$gf 
:nmap <f2> :GenTocGFM <cr>
:nmap <f4> :!/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome "%" <cr>

" for vim-table-mode
let g:table_mode_corner='|'
let g:table_mode_border=0
function! s:isAtStartOfLine(mapping)
  let text_before_cursor = getline('.')[0 : col('.')-1]
  let mapping_pattern = '\V' . escape(a:mapping, '\')
  let comment_pattern = '\V' . escape(substitute(&l:commentstring, '%s.*$', '', ''), '\')
  return (text_before_cursor =~? '^' . ('\v(' . comment_pattern . '\v)?') . '\s*\v' . mapping_pattern . '\v$')
endfunction

inoreabbrev <expr> <bar><bar>
          \ <SID>isAtStartOfLine('\|\|') ?
          \ '<c-o>:TableModeEnable<cr><bar><space><bar><left><left>' : '<bar><bar>'
inoreabbrev <expr> __
          \ <SID>isAtStartOfLine('__') ?
          \ '<c-o>:silent! TableModeDisable<cr>' : '__'
